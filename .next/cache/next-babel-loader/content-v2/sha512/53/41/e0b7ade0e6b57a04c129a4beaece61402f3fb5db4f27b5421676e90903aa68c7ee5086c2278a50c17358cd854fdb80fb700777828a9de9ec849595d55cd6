{"ast":null,"code":"import _toConsumableArray from \"C:/WorkSpace/Freelancer/nails-factory/multikart_react_all_in_one/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\WorkSpace\\\\Freelancer\\\\nails-factory\\\\multikart_react_all_in_one\\\\frontend\\\\helpers\\\\wishlist\\\\WishlistContext.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { createContext, useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nexport var Context = /*#__PURE__*/createContext({\n  wishlistItems: Function,\n  addToWish: Function,\n  removeFromWish: Function\n});\n\nvar getLocalWishlistItems = function getLocalWishlistItems() {\n  try {\n    var list = localStorage.getItem('wishlist');\n\n    if (list === null) {\n      return [];\n    } else {\n      return JSON.parse(list);\n    }\n  } catch (err) {\n    return [];\n  }\n};\n\nexport var Provider = function Provider(props) {\n  _s();\n\n  var _useState = useState(getLocalWishlistItems()),\n      wishlistItems = _useState[0],\n      setWishlistItems = _useState[1];\n\n  useEffect(function () {\n    localStorage.setItem('wishlist', JSON.stringify(wishlistItems));\n  }, [wishlistItems]); // Add Product To Wishlist\n\n  var addToWish = function addToWish(item) {\n    var index = wishlistItems.findIndex(function (wish) {\n      return wish.id === item.id;\n    });\n\n    if (index === -1) {\n      toast.success(\"Product Added Successfully !\");\n      setWishlistItems([].concat(_toConsumableArray(wishlistItems), [item]));\n    } else {\n      toast.error(\"This Product Already Added !\");\n    }\n  }; // Remove Product From Wishlist\n\n\n  var removeFromWish = function removeFromWish(item) {\n    setWishlistItems(wishlistItems.filter(function (e) {\n      return e.id !== item.id;\n    }));\n    toast.error(\"Product Removed Successfully !\");\n  }; // const {value} = props\n\n\n  return __jsx(Context.Provider, {\n    value: {\n      wishlistItems: wishlistItems,\n      addToWish: addToWish,\n      removeFromWish: removeFromWish\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\n_s(Provider, \"QX9mk32/jDCuTc/KddxWPanAb1g=\");\n\n_c = Provider;\nexport { Context as WishlistContext, Provider as WishlistContextProvider } from \"./WishlistContext\";\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"sources":["C:/WorkSpace/Freelancer/nails-factory/multikart_react_all_in_one/frontend/helpers/wishlist/WishlistContext.js"],"names":["React","createContext","useState","useEffect","toast","Context","wishlistItems","Function","addToWish","removeFromWish","getLocalWishlistItems","list","localStorage","getItem","JSON","parse","err","Provider","props","setWishlistItems","setItem","stringify","item","index","findIndex","wish","id","success","error","filter","e","children","WishlistContext","WishlistContextProvider"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,IAAMC,OAAO,gBAAGJ,aAAa,CAAC;AACnCK,EAAAA,aAAa,EAAEC,QADoB;AAEnCC,EAAAA,SAAS,EAAED,QAFwB;AAGnCE,EAAAA,cAAc,EAAEF;AAHmB,CAAD,CAA7B;;AAOP,IAAMG,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,MAAI;AACF,QAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAb;;AACE,QAAIF,IAAI,KAAK,IAAb,EAAmB;AACjB,aAAO,EAAP;AACD,KAFD,MAEK;AACH,aAAOG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;AACD;AACJ,GAPD,CAOE,OAAOK,GAAP,EAAY;AACZ,WAAO,EAAP;AACD;AACF,CAXD;;AAaA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA;;AAAA,kBAEWhB,QAAQ,CAACQ,qBAAqB,EAAtB,CAFnB;AAAA,MAExBJ,aAFwB;AAAA,MAETa,gBAFS;;AAI/BhB,EAAAA,SAAS,CAAC,YAAM;AACZS,IAAAA,YAAY,CAACQ,OAAb,CAAqB,UAArB,EAAiCN,IAAI,CAACO,SAAL,CAAef,aAAf,CAAjC;AACH,GAFQ,EAEN,CAACA,aAAD,CAFM,CAAT,CAJ+B,CAS/B;;AACA,MAAME,SAAS,GAAG,SAAZA,SAAY,CAACc,IAAD,EAAU;AACxB,QAAMC,KAAK,GAAGjB,aAAa,CAACkB,SAAd,CAAwB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,EAAL,KAAYJ,IAAI,CAACI,EAArB;AAAA,KAA5B,CAAd;;AACA,QAAIH,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdnB,MAAAA,KAAK,CAACuB,OAAN,CAAc,8BAAd;AACAR,MAAAA,gBAAgB,8BAAKb,aAAL,IAAoBgB,IAApB,GAAhB;AACH,KAHD,MAGK;AACHlB,MAAAA,KAAK,CAACwB,KAAN,CAAY,8BAAZ;AACD;AACJ,GARD,CAV+B,CAoB/B;;;AACA,MAAMnB,cAAc,GAAG,SAAjBA,cAAiB,CAACa,IAAD,EAAU;AAC/BH,IAAAA,gBAAgB,CAACb,aAAa,CAACuB,MAAd,CAAqB,UAACC,CAAD;AAAA,aAAMA,CAAC,CAACJ,EAAF,KAASJ,IAAI,CAACI,EAApB;AAAA,KAArB,CAAD,CAAhB;AACAtB,IAAAA,KAAK,CAACwB,KAAN,CAAY,gCAAZ;AACD,GAHD,CArB+B,CA0B/B;;;AAEA,SACI,MAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE;AACrBtB,MAAAA,aAAa,EAACA,aADO;AAErBE,MAAAA,SAAS,EAACA,SAFW;AAGrBC,MAAAA,cAAc,EAACA;AAHM,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGS,KAAK,CAACa,QALT,CADJ;AASH,CArCM;;GAAMd,Q;;KAAAA,Q;AAuCb,SACEZ,OAAO,IAAI2B,eADb,EAEEf,QAAQ,IAAIgB,uBAFd,QAGO,mBAHP","sourcesContent":["import React, {createContext , useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const Context = createContext({\r\n  wishlistItems: Function,\r\n  addToWish: Function,\r\n  removeFromWish: Function\r\n}\r\n);\r\n\r\nconst getLocalWishlistItems = () => {\r\n  try {\r\n    const list = localStorage.getItem('wishlist');\r\n      if (list === null) {\r\n        return [];\r\n      }else{\r\n        return JSON.parse(list)\r\n      }\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const Provider = (props) => {\r\n\r\n    const [wishlistItems, setWishlistItems] = useState(getLocalWishlistItems())\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('wishlist', JSON.stringify(wishlistItems))\r\n    }, [wishlistItems])\r\n\r\n\r\n    // Add Product To Wishlist\r\n    const addToWish = (item) => {\r\n        const index = wishlistItems.findIndex(wish => wish.id === item.id)\r\n        if (index === -1) {\r\n            toast.success(\"Product Added Successfully !\");\r\n            setWishlistItems([...wishlistItems, item])\r\n        }else{\r\n          toast.error(\"This Product Already Added !\");\r\n        }\r\n    }\r\n\r\n    // Remove Product From Wishlist\r\n    const removeFromWish = (item) => {\r\n      setWishlistItems(wishlistItems.filter((e)=>(e.id !== item.id)))\r\n      toast.error(\"Product Removed Successfully !\");\r\n    }\r\n\r\n    // const {value} = props\r\n\r\n    return (\r\n        <Context.Provider value={{\r\n            wishlistItems:wishlistItems,\r\n            addToWish:addToWish,\r\n            removeFromWish:removeFromWish\r\n          }}>\r\n          {props.children}\r\n        </Context.Provider>\r\n      );\r\n}\r\n\r\nexport {\r\n  Context as WishlistContext,\r\n  Provider as WishlistContextProvider,\r\n} from \"./WishlistContext\";\r\n"]},"metadata":{},"sourceType":"module"}